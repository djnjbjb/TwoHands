<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_hand_represent_8cs" kind="file">
    <compoundname>HandRepresent.cs</compoundname>
    <innerclass refid="class_joint2_state_extension" prot="public">Joint2StateExtension</innerclass>
    <innerclass refid="class_hand_represent" prot="public">HandRepresent</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="_hand_represent_8cs_1aba63e16c967a357c04f8358a0dc78d39" prot="public" static="no">
        <name>TEST_RIGHT_LINE</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/HandRepresent.cs" line="1" column="9" bodyfile="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/HandRepresent.cs" bodystart="1" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" prot="public" static="no">
        <name>Joint2State</name>
        <enumvalue id="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a6e0fdcc19aec7956967417022c74ccba" prot="public">
          <name>Singularity</name>
          <initializer>= 0x00</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" prot="public">
          <name>Line</name>
          <initializer>= 0x01</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86ae5df3626957bbdaa6de4e3e7190b36c1" prot="public">
          <name>TriangleLeft</name>
          <initializer>= 0x10</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a9bb547f4cfe205fae637ac29a274f591" prot="public">
          <name>TriangleRight</name>
          <initializer>= 0x11</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/HandRepresent.cs" line="8" column="1" bodyfile="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/HandRepresent.cs" bodystart="7" bodyend="13"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="_hand_represent_8cs_1aba63e16c967a357c04f8358a0dc78d39" refkind="member"><highlight class="preprocessor">#define<sp/>TEST_RIGHT_LINE</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#undef<sp/>TEST_RIGHT_LINE</highlight></codeline>
<codeline lineno="3"><highlight class="preprocessor"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections.Generic;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7" refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref></highlight></codeline>
<codeline lineno="8"><highlight class="normal">{</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a6e0fdcc19aec7956967417022c74ccba" kindref="member">Singularity</ref><sp/>=<sp/>0x00,</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Line</ref><sp/>=<sp/>0x01,</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86ae5df3626957bbdaa6de4e3e7190b36c1" kindref="member">TriangleLeft</ref><sp/>=<sp/>0x10,</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a9bb547f4cfe205fae637ac29a274f591" kindref="member">TriangleRight</ref><sp/>=<sp/>0x11</highlight></codeline>
<codeline lineno="13"><highlight class="normal">}</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="class_joint2_state_extension" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_joint2_state_extension" kindref="compound">Joint2StateExtension</ref></highlight></codeline>
<codeline lineno="16"><highlight class="normal">{</highlight></codeline>
<codeline lineno="17" refid="class_joint2_state_extension_1a7921a301dcb2a7329beae68dab25de54" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_joint2_state_extension_1a7921a301dcb2a7329beae68dab25de54" kindref="member">IsTriangle</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>state)</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)state<sp/>&amp;<sp/>0x10)<sp/>==<sp/>0x10);</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="21"><highlight class="normal">}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="class_hand_represent" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_hand_represent" kindref="compound">HandRepresent</ref></highlight></codeline>
<codeline lineno="24"><highlight class="normal">{</highlight></codeline>
<codeline lineno="25" refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref>;</highlight></codeline>
<codeline lineno="26" refid="class_hand_represent_1a8c095ae6e18b85c7d66f01bb6ab90a6b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a8c095ae6e18b85c7d66f01bb6ab90a6b" kindref="member">rightJoint2</ref>;</highlight></codeline>
<codeline lineno="27" refid="class_hand_represent_1ae3fdc4afcafb804e0ac68bc1493b8a2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1ae3fdc4afcafb804e0ac68bc1493b8a2a" kindref="member">rightLine1</ref>;</highlight></codeline>
<codeline lineno="28" refid="class_hand_represent_1a251ff4a1ca904e50710291e494facede" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a251ff4a1ca904e50710291e494facede" kindref="member">rightLine2</ref>;</highlight></codeline>
<codeline lineno="29" refid="class_hand_represent_1a64cb1688b9714f0de3c5551e611bb4cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a64cb1688b9714f0de3c5551e611bb4cd" kindref="member">rightFist</ref>;</highlight></codeline>
<codeline lineno="30" refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" kindref="member">leftJoint1</ref>;</highlight></codeline>
<codeline lineno="31" refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" kindref="member">leftJoint2</ref>;</highlight></codeline>
<codeline lineno="32" refid="class_hand_represent_1a8ba2907ca4cd375e4a1a3b2ba6e5be6e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a8ba2907ca4cd375e4a1a3b2ba6e5be6e" kindref="member">leftLine1</ref>;</highlight></codeline>
<codeline lineno="33" refid="class_hand_represent_1af41fb6f5dfde85392052dd81179f6b44" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1af41fb6f5dfde85392052dd81179f6b44" kindref="member">leftLine2</ref>;</highlight></codeline>
<codeline lineno="34" refid="class_hand_represent_1a97d0ad08bbee997f3b6ef7572c50dffd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/><ref refid="class_hand_represent_1a97d0ad08bbee997f3b6ef7572c50dffd" kindref="member">leftFist</ref>;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>TEST_RIGHT_LINE</highlight></codeline>
<codeline lineno="37"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/>rightJoint2p;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/>rightLine1p;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>GameObject<sp/>rightLine2p;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="41"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>;</highlight></codeline>
<codeline lineno="43" refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>;</highlight></codeline>
<codeline lineno="44" refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="45" refid="class_hand_represent_1a4c11c4583a93770a5db8a92b34a0adea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/><ref refid="class_hand_represent_1a4c11c4583a93770a5db8a92b34a0adea" kindref="member">rightJoint2State</ref>;</highlight></codeline>
<codeline lineno="46" refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/><ref refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" kindref="member">leftJoint2State</ref>;</highlight></codeline>
<codeline lineno="47" refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/><ref refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" kindref="member">rightJoint2StatePre</ref>;</highlight></codeline>
<codeline lineno="48" refid="class_hand_represent_1a6dd049538bb33177ce156e0d3269b87e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/><ref refid="class_hand_represent_1a6dd049538bb33177ce156e0d3269b87e" kindref="member">leftJoint2StatePre</ref>;</highlight></codeline>
<codeline lineno="49" refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector2<sp/><ref refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" kindref="member">rightFistPosPre</ref>;</highlight></codeline>
<codeline lineno="50" refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector2<sp/><ref refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" kindref="member">leftFistPosPre</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="class_hand_represent_1a04e4267113cb0e4eb40aa3d21e71cd0b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a04e4267113cb0e4eb40aa3d21e71cd0b" kindref="member">HandRepresent</ref>(GameObject<sp/>whole)</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHJoint1&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8c095ae6e18b85c7d66f01bb6ab90a6b" kindref="member">rightJoint2</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHJoint2&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ae3fdc4afcafb804e0ac68bc1493b8a2a" kindref="member">rightLine1</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHLine1&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a251ff4a1ca904e50710291e494facede" kindref="member">rightLine2</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHLine2&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a64cb1688b9714f0de3c5551e611bb4cd" kindref="member">rightFist</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHFist&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" kindref="member">leftJoint1</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;LHJoint1&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" kindref="member">leftJoint2</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;LHJoint2&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8ba2907ca4cd375e4a1a3b2ba6e5be6e" kindref="member">leftLine1</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;LHLine1&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1af41fb6f5dfde85392052dd81179f6b44" kindref="member">leftLine2</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;LHLine2&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a97d0ad08bbee997f3b6ef7572c50dffd" kindref="member">leftFist</ref><sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;LHFist&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>TEST_RIGHT_LINE</highlight></codeline>
<codeline lineno="66"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightJoint2p<sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHJoint2<sp/>(1)&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1p<sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHLine1<sp/>(1)&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2p<sp/>=<sp/>whole.transform.Find(</highlight><highlight class="stringliteral">&quot;RHLine2<sp/>(1)&quot;</highlight><highlight class="normal">).gameObject;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightJoint2p.SetActive(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1p.SetActive(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2p.SetActive(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="73"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref><sp/>=<sp/>rightJoint1.transform.localScale.x<sp/>/<sp/>2<sp/>+<sp/>rightLine1.transform.localScale.x<sp/>+<sp/>rightJoint2.transform.localScale.x<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref><sp/>=<sp/>rightJoint2.transform.localScale.x<sp/>/<sp/>2<sp/>+<sp/>rightLine2.transform.localScale.x<sp/>+<sp/>rightFist.transform.localScale.x<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref><sp/>=<sp/>length1<sp/>+<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a4c11c4583a93770a5db8a92b34a0adea" kindref="member">rightJoint2State</ref><sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" kindref="member">leftJoint2State</ref><sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" kindref="member">rightJoint2StatePre</ref><sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" kindref="member">leftJoint2State</ref><sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" kindref="member">rightFistPosPre</ref><sp/>=<sp/>rightFist.transform.localPosition;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" kindref="member">leftFistPosPre</ref><sp/>=<sp/>leftFist.transform.localPosition;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="class_hand_represent_1aff0e853e739164adb4bf583f47725286" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aff0e853e739164adb4bf583f47725286" kindref="member">Refresh</ref>()</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" kindref="member">rightJoint2StatePre</ref><sp/>=<sp/><ref refid="class_hand_represent_1a4c11c4583a93770a5db8a92b34a0adea" kindref="member">rightJoint2State</ref>;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a6dd049538bb33177ce156e0d3269b87e" kindref="member">leftJoint2StatePre</ref><sp/>=<sp/><ref refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" kindref="member">leftJoint2State</ref>;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a870bd77b03a2c1de7327a175b0d46b52" kindref="member">RefreshRight</ref>();</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ae15de679e2ae0df17e73a1c3e960a539" kindref="member">RefreshLeft</ref>();</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" kindref="member">rightFistPosPre</ref><sp/>=<sp/>rightFist.transform.localPosition;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" kindref="member">leftFistPosPre</ref><sp/>=<sp/>leftFist.transform.localPosition;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="97" refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="98" refid="class_hand_represent_1a870bd77b03a2c1de7327a175b0d46b52" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a870bd77b03a2c1de7327a175b0d46b52" kindref="member">RefreshRight</ref>()</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//Disable<sp/>LogTemp</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2PosPre<sp/>=<sp/>rightJoint2.transform.localPosition;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2Pos;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line1Pos;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>line1Rotation;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line2Pos;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>line2Rotation;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>fistRotation;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1adb9569a49b0e8af2b67972444217c2c3" kindref="member">CalulateShapeRight</ref>(</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a64cb1688b9714f0de3c5551e611bb4cd" kindref="member">rightFist</ref>.transform.localPosition,<sp/><ref refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" kindref="member">rightFistPosPre</ref>,</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref>.transform.localPosition,<sp/></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2PosPre,<sp/><ref refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" kindref="member">rightJoint2StatePre</ref>,</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1a8c095ae6e18b85c7d66f01bb6ab90a6b" kindref="member">rightJoint2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ae3fdc4afcafb804e0ac68bc1493b8a2a" kindref="member">rightLine1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1a251ff4a1ca904e50710291e494facede" kindref="member">rightLine2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>joint2Pos,<sp/>out<sp/><ref refid="class_hand_represent_1a4c11c4583a93770a5db8a92b34a0adea" kindref="member">rightJoint2State</ref>,</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line1Pos,<sp/>out<sp/>line1Rotation,<sp/></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line2Pos,<sp/>out<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>fistRotation</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightJoint2.transform.localPosition<sp/>=<sp/>joint2Pos;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1.transform.localPosition<sp/>=<sp/>line1Pos;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1.transform.localRotation<sp/>=<sp/>line1Rotation;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2.transform.localPosition<sp/>=<sp/>line2Pos;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2.transform.localRotation<sp/>=<sp/>line2Rotation;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightFist.transform.localRotation<sp/>=<sp/>fistRotation;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>TEST_RIGHT_LINE</highlight></codeline>
<codeline lineno="129"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8fe45cc3a659fce54b77a5e174fb0008" kindref="member">CalulateShapeRight2</ref>(</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a64cb1688b9714f0de3c5551e611bb4cd" kindref="member">rightFist</ref>.transform.localPosition,<sp/><ref refid="class_hand_represent_1a74cff05bfcee4e9432637a06380631a8" kindref="member">rightFistPosPre</ref>,</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref>.transform.localPosition,<sp/></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2PosPre,<sp/><ref refid="class_hand_represent_1a8eb87185838f59a4bf59565d0742407f" kindref="member">rightJoint2StatePre</ref>,</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a9b22d2ebd260e4a00f70c84e04ef7d9f" kindref="member">rightJoint1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1a8c095ae6e18b85c7d66f01bb6ab90a6b" kindref="member">rightJoint2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ae3fdc4afcafb804e0ac68bc1493b8a2a" kindref="member">rightLine1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1a251ff4a1ca904e50710291e494facede" kindref="member">rightLine2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>joint2Pos,<sp/>out<sp/>rightJoint2State,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line1Pos,<sp/>out<sp/>line1Rotation,<sp/></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line2Pos,<sp/>out<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>fistRotation</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightJoint2p.transform.localPosition<sp/>=<sp/>joint2Pos;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1p.transform.localPosition<sp/>=<sp/>line1Pos;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine1p.transform.localRotation<sp/>=<sp/>line1Rotation;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2p.transform.localPosition<sp/>=<sp/>line2Pos;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightLine2p.transform.localRotation<sp/>=<sp/>line2Rotation;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Yurowm.DebugTools.DebugPanel.Log(</highlight><highlight class="stringliteral">&quot;Join2<sp/>Dis&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Distance&quot;</highlight><highlight class="normal">,<sp/>(rightJoint2.transform.localPosition<sp/>-<sp/>rightJoint2p.transform.localPosition).magnitude);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="149"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151" refid="class_hand_represent_1ae15de679e2ae0df17e73a1c3e960a539" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1ae15de679e2ae0df17e73a1c3e960a539" kindref="member">RefreshLeft</ref>()</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//左手需要通过镜像的方式计算</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>lhFistPosMirred<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-<ref refid="class_hand_represent_1a97d0ad08bbee997f3b6ef7572c50dffd" kindref="member">leftFist</ref>.transform.localPosition.x,<sp/><ref refid="class_hand_represent_1a97d0ad08bbee997f3b6ef7572c50dffd" kindref="member">leftFist</ref>.transform.localPosition.y);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>leftFistPosPreMirred<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-<ref refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" kindref="member">leftFistPosPre</ref>.x,<sp/><ref refid="class_hand_represent_1a1d07018531fdab05c2cbcc8cd15ac1aa" kindref="member">leftFistPosPre</ref>.y);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>lhJoint1PosMirred<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-<ref refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" kindref="member">leftJoint1</ref>.transform.localPosition.x,<sp/><ref refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" kindref="member">leftJoint1</ref>.transform.localPosition.y);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>lhJoint2PosPreMirred<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-<ref refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" kindref="member">leftJoint2</ref>.transform.localPosition.x,<sp/><ref refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" kindref="member">leftJoint2</ref>.transform.localPosition.y);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2PosMirred;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line1PosMirred;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>line1RotationMirred;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line2PosMirred;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>line2RotationMirred;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quaternion<sp/>fistRotationMirred;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1adb9569a49b0e8af2b67972444217c2c3" kindref="member">CalulateShapeRight</ref>(</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhFistPosMirred,<sp/>leftFistPosPreMirred,</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhJoint1PosMirred,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lhJoint2PosPreMirred,<sp/><ref refid="class_hand_represent_1a6dd049538bb33177ce156e0d3269b87e" kindref="member">leftJoint2StatePre</ref>,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ad553f18564af5671792dfd8c6402063c" kindref="member">leftJoint1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1a5675a2da05e3a62eb2641fd996aecd51" kindref="member">leftJoint2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a8ba2907ca4cd375e4a1a3b2ba6e5be6e" kindref="member">leftLine1</ref>.transform.localScale.x,<sp/><ref refid="class_hand_represent_1af41fb6f5dfde85392052dd81179f6b44" kindref="member">leftLine2</ref>.transform.localScale.x,</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>joint2PosMirred,<sp/>out<sp/><ref refid="class_hand_represent_1a7025e3d65f7643e8259c5fe946c74830" kindref="member">leftJoint2State</ref>,</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line1PosMirred,<sp/>out<sp/>line1RotationMirred,<sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line2PosMirred,<sp/>out<sp/>line2RotationMirred,</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>fistRotationMirred</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftJoint2.transform.localPosition<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-joint2PosMirred.x,<sp/>joint2PosMirred.y);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftLine1.transform.localPosition<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-line1PosMirred.x,<sp/>line1PosMirred.y);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>axis;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angle;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1RotationMirred.ToAngleAxis(out<sp/>angle,<sp/>out<sp/>axis);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftLine1.transform.localRotation<sp/>=<sp/>Quaternion.AngleAxis(-angle,<sp/>axis);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftLine2.transform.localPosition<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(-line2PosMirred.x,<sp/>line2PosMirred.y);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line2RotationMirred.ToAngleAxis(out<sp/>angle,<sp/>out<sp/>axis);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftLine2.transform.localRotation<sp/>=<sp/>Quaternion.AngleAxis(-angle,<sp/>axis);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistRotationMirred.ToAngleAxis(out<sp/>angle,<sp/>out<sp/>axis);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftFist.transform.localRotation<sp/>=<sp/>Quaternion.AngleAxis(-angle,<sp/>axis);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193" refid="class_hand_represent_1adb9569a49b0e8af2b67972444217c2c3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1adb9569a49b0e8af2b67972444217c2c3" kindref="member">CalulateShapeRight</ref>(</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>fistPosPre,<sp/></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint1Pos,</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint2PosPre,<sp/>in<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint2ScaleX,</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line2ScaleX,</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>joint2Pos,<sp/>out<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2State,</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line1Pos,<sp/>out<sp/>Quaternion<sp/>line1Rotation,</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line2Pos,<sp/>out<sp/>Quaternion<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Quaternion<sp/>fistRotation</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1ada57a76d450ec1c1ca7d180a0b78417a" kindref="member">GetShapeRightJoint2Pos_OptimizedAlwaysLeft</ref>(</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistPos,<sp/>fistPosPre,<sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint1Pos,</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2PosPre,<sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>length1,<sp/>length2,<sp/>length,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>joint2Pos,<sp/>out<sp/>joint2State);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aded310f01213e14779ebda0cce2934ac" kindref="member">GetShapeRightOther</ref>(</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistPos,<sp/>joint1Pos,<sp/>joint2Pos,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint1ScaleX,<sp/>joint2ScaleX,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1ScaleX,<sp/>line2ScaleX,</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>length1,<sp/>length2,<sp/>length,</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line1Pos,<sp/>out<sp/>line1Rotation,</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line2Pos,<sp/>out<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>fistRotation);</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223" refid="class_hand_represent_1a8fe45cc3a659fce54b77a5e174fb0008" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a8fe45cc3a659fce54b77a5e174fb0008" kindref="member">CalulateShapeRight2</ref>(</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>fistPosPre,</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint1Pos,</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint2PosPre,<sp/>in<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint2ScaleX,</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line2ScaleX,</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>joint2Pos,<sp/>out<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2State,</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line1Pos,<sp/>out<sp/>Quaternion<sp/>line1Rotation,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line2Pos,<sp/>out<sp/>Quaternion<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>Quaternion<sp/>fistRotation</highlight></codeline>
<codeline lineno="234"><highlight class="normal">)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aac8642a1f88f5fe36a946a4654be1373" kindref="member">GetShapeRightJoint2Pos_SimpleAlwaysLeft</ref>(</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistPos,<sp/>fistPosPre,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint1Pos,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2PosPre,<sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>length1,<sp/>length2,<sp/>length,</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>joint2Pos,<sp/>out<sp/>joint2State);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_hand_represent_1aded310f01213e14779ebda0cce2934ac" kindref="member">GetShapeRightOther</ref>(</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistPos,<sp/>joint1Pos,<sp/>joint2Pos,</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint1ScaleX,<sp/>joint2ScaleX,</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1ScaleX,<sp/>line2ScaleX,</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>length1,<sp/>length2,<sp/>length,</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line1Pos,<sp/>out<sp/>line1Rotation,</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>line2Pos,<sp/>out<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>fistRotation);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253" refid="class_hand_represent_1ae583a47114054fe86d5fd0616ba90400" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1ae583a47114054fe86d5fd0616ba90400" kindref="member">GetShapeRightJoint2Pos_Reflect</ref><sp/>(</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>fistPosPre,</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint1Pos,</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint2PosPre,<sp/>in<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>joint2Pos,<sp/>out<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2State)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//现在算法还不太对</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//the<sp/>triangle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="264"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>现在<sp/>b<sp/>和<sp/>c必须相等，否则三角形判断有问题，还需要增加一些处理。</highlight></codeline>
<codeline lineno="265"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>不是很有必要增加处理。所以，就让b和c相等吧。</highlight></codeline>
<codeline lineno="266"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>a<sp/>=<sp/>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos).magnitude;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>b<sp/>=<sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>c<sp/>=<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;---------------------&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;a<sp/>==<sp/>{a}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;b<sp/>==<sp/>{b}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;c<sp/>==<sp/>{c}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;b<sp/>+<sp/>c<sp/>&gt;<sp/>a<sp/>&amp;&amp;<sp/>!Ludo.Utility.FloatEqual0p001(b+c,<sp/>a)<sp/>==<sp/>{b<sp/>+<sp/>c<sp/>&gt;<sp/>a<sp/>&amp;&amp;<sp/>!Ludo.Utility.FloatEqual_WithIn0p001(b<sp/>+<sp/>c,<sp/>a)}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//posJoint2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="277"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>已经放弃了选择更小距离的算法。</highlight></codeline>
<codeline lineno="278"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>因为，在极值点和直线状态，统一起来比较复杂。</highlight></codeline>
<codeline lineno="279"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>（本来觉得，用“选择更小距离的算法”，在极值点和直线状态，可以统计解决）</highlight></codeline>
<codeline lineno="280"><highlight class="comment"></highlight></codeline>
<codeline lineno="281"><highlight class="comment"></highlight></codeline>
<codeline lineno="282"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>分成3种状态：</highlight></codeline>
<codeline lineno="283"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>极值点状态</highlight></codeline>
<codeline lineno="284"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>直线状态</highlight></codeline>
<codeline lineno="285"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>三角形状态</highlight></codeline>
<codeline lineno="286"><highlight class="comment"></highlight></codeline>
<codeline lineno="287"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>在三角形状态时，计算需注意。</highlight></codeline>
<codeline lineno="288"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果上一个状态也是三角形，则左右不变。</highlight></codeline>
<codeline lineno="289"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果上一个状态是直线状态，那切换到三角状态时，一定选择左。</highlight></codeline>
<codeline lineno="290"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>可能存在上一个状态是三角，当前也是三角，但中间经过了直线状态的情况。</highlight></codeline>
<codeline lineno="291"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>就目前的情况来看，在这种情况下总是选左，表现也不会有问题。</highlight></codeline>
<codeline lineno="292"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果上一个状态是极值状态</highlight></codeline>
<codeline lineno="293"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>经过极值状态的切换，也要考虑距离。如果距离变大，没必要切换。比如右手一直在身体右侧运动的情况。</highlight></codeline>
<codeline lineno="294"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="295"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>可能存在上一个状态是三角，当前也是三角，但中间经过了极值状态的情况。</highlight></codeline>
<codeline lineno="296"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>这种情况也算作是上一个状态是极值状态。</highlight></codeline>
<codeline lineno="297"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(虽然，极值状态的距离定义，结合长度和速度，可以回避这种情况。但，回避这种情况的算法似乎比较麻烦，所以，我就不回避了。)</highlight></codeline>
<codeline lineno="298"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="299"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果经过极值状态，则三角形的Joint2位置，会考虑改变(根据距离，可能改可能不改)。</highlight></codeline>
<codeline lineno="300"><highlight class="comment"></highlight></codeline>
<codeline lineno="301"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>极值状态的距离需要定义。</highlight></codeline>
<codeline lineno="302"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>这个定义，与计算Joint2位置的极值状态定义，应该可以不同。</highlight></codeline>
<codeline lineno="303"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Joint2位置的极值状态定义，似乎是越小越好。奥，不读，其实不用定义大小，就是dis==0，在极值点定义即可。我定义大小，只是源于float精度的问题。</highlight></codeline>
<codeline lineno="304"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>极值状态的距离定义，则需要取得平衡。在变化足够连贯，不用改变偏移方向的时候，不改变。在变化连贯时，改变。</highlight></codeline>
<codeline lineno="305"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>这个距离，其实取决于手的长度和速度。但是，关系不容易理清楚，所以，把这个距离拿出来，由我手动调整。</highlight></codeline>
<codeline lineno="306"><highlight class="comment"></highlight></codeline>
<codeline lineno="307"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>最后，在算法实现上。由于在极值状态，还是画三角形（除了源于float精度的极值点状态外）。</highlight></codeline>
<codeline lineno="308"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>所以，是在三角形部分加一些判断，而判断的极值点状态，是float精度的极值点状态。</highlight></codeline>
<codeline lineno="309"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>但是，在三角形内部算法中，是否经过，则用的是一个范围的极值点状态。(用一个距离来评价经过时是否需要考虑改状态，但是否进过其实还是判断的那个单点的极值点)</highlight></codeline>
<codeline lineno="310"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>singularityRadius_joint2Position<sp/>=<sp/>0.77f;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>singularityRadius_ifPassSigularity<sp/>=<sp/>0.3f;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//非三角形1，且手和根，几乎重合</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>a<sp/>&lt;=<sp/>singularityRadius_joint2Position<sp/>)</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="317"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>当手和根几乎重合时，Joint2应该在哪比较好呢？</highlight></codeline>
<codeline lineno="318"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>目前想到最合适的方法是，根据<sp/>joint2PosPre<sp/>和<sp/>手的移动反向，确定一条线，取圆上里线最近的一点</highlight></codeline>
<codeline lineno="319"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>这样比较麻烦，因此，取圆上离joint2PosPre最近的一个点，也不错。（即从圆心向joint2PosPre作射线，射线与圆的交点）</highlight></codeline>
<codeline lineno="320"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>因为当手和根几乎重合时，在每步移动范围很小的情况下，joint2PosPre也是在圆上的，所以，取joint2PosPre即可。</highlight></codeline>
<codeline lineno="321"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2PosPre;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a6e0fdcc19aec7956967417022c74ccba" kindref="member">Joint2State.Singularity</ref>;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp(</highlight><highlight class="stringliteral">&quot;Current<sp/>==<sp/>Sigularity&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//三角形</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>+<sp/>c<sp/>&gt;<sp/>a<sp/>&amp;&amp;<sp/>!Ludo.Utility.FloatEqual_WithIn0p001(b+c,<sp/>a))</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="331"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Joint2所在位置，可能在<sp/>根→手<sp/>连线的左侧，也可能在右侧。左侧优先。</highlight></codeline>
<codeline lineno="332"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="333"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>分别计算两种情况下<sp/>Joint2Pos<sp/>和<sp/>JointPosPre的距离。</highlight></codeline>
<codeline lineno="334"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果某个小，就用某一个。</highlight></codeline>
<codeline lineno="335"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果差不多，就用左侧。</highlight></codeline>
<codeline lineno="336"><highlight class="comment"></highlight></codeline>
<codeline lineno="337"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>值得注意的是，这里差不多的计算。和其他的差不多用通用的阈值（Ludo.Utility.FloatEqual0p001）可能不合适，但先这样试一下。</highlight></codeline>
<codeline lineno="338"><highlight class="comment"></highlight></codeline>
<codeline lineno="339"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cosJoint1<sp/>=<sp/>(a<sp/>*<sp/>a<sp/>+<sp/>b<sp/>*<sp/>b<sp/>-<sp/>c<sp/>*<sp/>c)<sp/>/<sp/>(2<sp/>*<sp/>a<sp/>*<sp/>b);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angleJoint1<sp/>=<sp/>Mathf.Acos(cosJoint1);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToJoint2_pointOnLeft<sp/>=<sp/>Ludo.Utility.Vec2Rotate(joint1ToFist.normalized,<sp/>-angleJoint1)<sp/>*<sp/>length1;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos_pointOnLeft<sp/>=<sp/>joint1Pos<sp/>+<sp/>joint1ToJoint2_pointOnLeft;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2Pos_pointOnRight;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToJoint2_pointOnRight<sp/>=<sp/>Ludo.Utility.Vec2Rotate(joint1ToFist.normalized,<sp/>angleJoint1)<sp/>*<sp/>length1;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos_pointOnRight<sp/>=<sp/>joint1Pos<sp/>+<sp/>joint1ToJoint2_pointOnRight;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>distanceLeft<sp/>=<sp/>(joint2Pos_pointOnLeft<sp/>-<sp/>joint2PosPre).magnitude;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>distanceRight<sp/>=<sp/>(joint2Pos_pointOnRight<sp/>-<sp/>joint2PosPre).magnitude;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;Current<sp/>==<sp/>Triangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;Pre:({joint2PosPre.x},{joint2PosPre.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;Left:({joint2Pos_pointOnLeft.x},{joint2Pos_pointOnLeft.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;Right:({joint2Pos_pointOnRight.x},{joint2Pos_pointOnRight.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2();</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//如果上一个状态是Line，就直接选左</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(joint2StatePre<sp/>==<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref>.Line)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp(</highlight><highlight class="stringliteral">&quot;Pre<sp/>==<sp/>Line&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="365"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果上一个状态是Singularity，就根据距离来选</highlight></codeline>
<codeline lineno="366"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果奇点之后和奇点之前的移动方向是同向<sp/>或<sp/>反向，那根据距离来选即可</highlight></codeline>
<codeline lineno="367"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果奇点之后和奇点之前的移动方向不同，那其实还有个优先选左的问题</highlight></codeline>
<codeline lineno="368"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="369"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果考虑到小的偏移，这个优先选左，又需要加上一个阈值来让左优先。</highlight></codeline>
<codeline lineno="370"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果让这个阈值较大的话，可以通过手长来判断。</highlight></codeline>
<codeline lineno="371"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(joint2StatePre<sp/>==<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref>.Singularity)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>bigThreshold<sp/>=<sp/>length/2<sp/>*<sp/>1;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Mathf.Abs(distanceLeft<sp/>-<sp/>distanceRight)<sp/>&lt;=<sp/>bigThreshold)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(distanceLeft<sp/>&lt;<sp/>distanceRight)</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnRight;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp(</highlight><highlight class="stringliteral">&quot;Pre<sp/>==<sp/>Singularity&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(joint2StatePre.IsTriangle())</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="394"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果前后未经过极值状态，则保持方向不变。</highlight></codeline>
<codeline lineno="395"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果经过了，则选择距离较近的点。经过，则一定前后的运动是同向，就不用考虑普遍偏左的阈值问题，只要比较距离大小即可。</highlight></codeline>
<codeline lineno="396"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>这里涉及到极值状态的范围。</highlight></codeline>
<codeline lineno="397"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>先拍脑门定一个。</highlight></codeline>
<codeline lineno="398"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp(</highlight><highlight class="stringliteral">&quot;Pre<sp/>==<sp/>Triangle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="401"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如何判断是否经过极值状态？</highlight></codeline>
<codeline lineno="402"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>从手的根点，向两点所成直线作垂线。（若两点重合，则一定不经过）</highlight></codeline>
<codeline lineno="403"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>垂线和直线有一个交点。</highlight></codeline>
<codeline lineno="404"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果交点到手根点的距离大于radius，则一定不经过。</highlight></codeline>
<codeline lineno="405"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>如果交点到手根点的距离小于radius，再判断交点是否在两点之间。(用(交点-startPoint)/(endPoint-startPoint),看是不是在0~1即可。)</highlight></codeline>
<codeline lineno="406"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(奥，还有个简单的做法，就是说<sp/>交点到2个点的向量反向，dot&lt;=0，就说明交点在2个点之间)</highlight></codeline>
<codeline lineno="407"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="408"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>byPassSingularity<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;Ludo.Utility.FloatEqual0p001((joint2Pos<sp/>-<sp/>joint2PosPre).magnitude<sp/>==<sp/>{Ludo.Utility.FloatEqual_WithIn0p001((joint2Pos<sp/>-<sp/>joint2PosPre).magnitude,0)}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Ludo.Utility.FloatEqual_WithIn0p001((joint2Pos<sp/>-<sp/>joint2PosPre).magnitude,<sp/>0))</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byPassSingularity<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>nearestPoint<sp/>=<sp/>Ludo.Utility.FindNearestPointOnLine(fistPosPre,<sp/>fistPos<sp/>-<sp/>fistPosPre,<sp/>joint1Pos);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;nearestPoint<sp/>==<sp/>{nearestPoint}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((joint1Pos<sp/>-<sp/>nearestPoint).magnitude<sp/>&lt;=<sp/>singularityRadius_ifPassSigularity)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line1<sp/>=<sp/>nearestPoint<sp/>-<sp/>fistPos;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>line2<sp/>=<sp/>nearestPoint<sp/>-<sp/>fistPosPre;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;line1<sp/>==<sp/>{line1}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;line2<sp/>==<sp/>{line2}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Vector2.Dot(line1,<sp/>line2)<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byPassSingularity<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byPassSingularity<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byPassSingularity<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;byPassSingularity<sp/>==<sp/>{byPassSingularity}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(byPassSingularity<sp/>==<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(joint2StatePre<sp/>==<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref>.TriangleLeft)</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnRight;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(distanceLeft<sp/>&lt;<sp/>distanceRight)</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnRight;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;distanceLeft:{distanceLeft}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;distanceRight:{distanceRight}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(joint2Pos<sp/>==<sp/>joint2Pos_pointOnLeft)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86ae5df3626957bbdaa6de4e3e7190b36c1" kindref="member">Joint2State.TriangleLeft</ref>;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a9bb547f4cfe205fae637ac29a274f591" kindref="member">Joint2State.TriangleRight</ref>;</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//非三角形，手和根离得的很远</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offset<sp/>=<sp/>Vector2.Lerp(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(),<sp/>joint1ToFist,<sp/>length1<sp/>/<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint1Pos<sp/>+<sp/>offset;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp(</highlight><highlight class="stringliteral">&quot;Current<sp/>==<sp/>Line&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="class_hand_represent_1aac8642a1f88f5fe36a946a4654be1373" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aac8642a1f88f5fe36a946a4654be1373" kindref="member">GetShapeRightJoint2Pos_SimpleAlwaysLeft</ref>(</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>fistPosPre,</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint1Pos,</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint2PosPre,<sp/>in<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>joint2Pos,<sp/>out<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2State)</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>a<sp/>=<sp/>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos).magnitude;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>b<sp/>=<sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>c<sp/>=<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>;</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a<sp/>&lt;=<sp/>0.001f)</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2PosPre;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a6e0fdcc19aec7956967417022c74ccba" kindref="member">Joint2State.Singularity</ref>;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//三角形</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>+<sp/>c<sp/>&gt;<sp/>a<sp/>&amp;&amp;<sp/>!Ludo.Utility.FloatEqual_WithIn0p001(b<sp/>+<sp/>c,<sp/>a))</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cosJoint1<sp/>=<sp/>(a<sp/>*<sp/>a<sp/>+<sp/>b<sp/>*<sp/>b<sp/>-<sp/>c<sp/>*<sp/>c)<sp/>/<sp/>(2<sp/>*<sp/>a<sp/>*<sp/>b);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angleJoint1<sp/>=<sp/>Mathf.Acos(cosJoint1);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToJoint2_pointOnLeft<sp/>=<sp/>Ludo.Utility.Vec2Rotate(joint1ToFist.normalized,<sp/>-angleJoint1)<sp/>*<sp/>length1;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos_pointOnLeft<sp/>=<sp/>joint1Pos<sp/>+<sp/>joint1ToJoint2_pointOnLeft;</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86ae5df3626957bbdaa6de4e3e7190b36c1" kindref="member">Joint2State.TriangleLeft</ref>;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offset<sp/>=<sp/>Vector2.Lerp(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(),<sp/>joint1ToFist,<sp/>length1<sp/>/<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>);</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint1Pos<sp/>+<sp/>offset;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526" refid="class_hand_represent_1ada57a76d450ec1c1ca7d180a0b78417a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1ada57a76d450ec1c1ca7d180a0b78417a" kindref="member">GetShapeRightJoint2Pos_OptimizedAlwaysLeft</ref>(</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>fistPosPre,</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint1Pos,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>joint2PosPre,<sp/>in<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2StatePre,</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>joint2Pos,<sp/>out<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86" kindref="member">Joint2State</ref><sp/>joint2State)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius<sp/>=<sp/>1f;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>a<sp/>=<sp/>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos).magnitude;</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>b<sp/>=<sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>;</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>c<sp/>=<sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a<sp/>&lt;=<sp/>0.001f)</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2PosPre;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a6e0fdcc19aec7956967417022c74ccba" kindref="member">Joint2State.Singularity</ref>;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//三角形</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>+<sp/>c<sp/>&gt;<sp/>a<sp/>&amp;&amp;<sp/>!Ludo.Utility.FloatEqual_WithIn0p001(b<sp/>+<sp/>c,<sp/>a))</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//如果在radius范围内，则在计算Joint2的位置时，把移动到圆的边上。</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>newFistPos<sp/>=<sp/>fistPos;</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a<sp/>&lt;<sp/>radius)</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFistDirection<sp/>=<sp/>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos).normalized;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newFistPos<sp/>=<sp/>joint1Pos<sp/>+<sp/>joint1ToFistDirection<sp/>*<sp/>radius;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>=<sp/>(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(newFistPos.x,<sp/>newFistPos.y)<sp/>-<sp/>joint1Pos).magnitude;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cosJoint1<sp/>=<sp/>(a<sp/>*<sp/>a<sp/>+<sp/>b<sp/>*<sp/>b<sp/>-<sp/>c<sp/>*<sp/>c)<sp/>/<sp/>(2<sp/>*<sp/>a<sp/>*<sp/>b);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angleJoint1<sp/>=<sp/>Mathf.Acos(cosJoint1);</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(newFistPos.x,<sp/>newFistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToJoint2_pointOnLeft<sp/>=<sp/>Ludo.Utility.Vec2Rotate(joint1ToFist.normalized,<sp/>-angleJoint1)<sp/>*<sp/>length1;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos_pointOnLeft<sp/>=<sp/>joint1Pos<sp/>+<sp/>joint1ToJoint2_pointOnLeft;</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint2Pos_pointOnLeft;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86ae5df3626957bbdaa6de4e3e7190b36c1" kindref="member">Joint2State.TriangleLeft</ref>;</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToFist<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offset<sp/>=<sp/>Vector2.Lerp(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(),<sp/>joint1ToFist,<sp/>length1<sp/>/<sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2Pos<sp/>=<sp/>joint1Pos<sp/>+<sp/>offset;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2State<sp/>=<sp/><ref refid="_hand_represent_8cs_1a652826673b49d3c088e2aed986f04d86a4803e6b9e63dabf04de980788d6a13c4" kindref="member">Joint2State.Line</ref>;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577" refid="class_hand_represent_1aded310f01213e14779ebda0cce2934ac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aded310f01213e14779ebda0cce2934ac" kindref="member">GetShapeRightOther</ref><sp/>(</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/>Vector2<sp/>fistPos,<sp/>in<sp/>Vector2<sp/>joint1Pos,<sp/>in<sp/>Vector2<sp/>joint2Pos,</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>joint2ScaleX,</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line1ScaleX,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>line2ScaleX,</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1a13c5c8c0e7c931cd4bc558840c979fea" kindref="member">length1</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1aa94ea42c82b87752e81e9c16c7926571" kindref="member">length2</ref>,<sp/>in<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_hand_represent_1acc1c1d70fe95c93e87ef5d66e3e30758" kindref="member">length</ref>,</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line1Pos,<sp/>out<sp/>Quaternion<sp/>line1Rotation,</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Vector2<sp/>line2Pos,<sp/>out<sp/>Quaternion<sp/>line2Rotation,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out<sp/>Quaternion<sp/>fistRotation)</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;joint2Pos:({joint2Pos.x},{joint2Pos.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1Pos<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2();</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1Rotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Quaternion();</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint1ToJoint2<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(joint2Pos.x,<sp/>joint2Pos.y)<sp/>-<sp/>joint1Pos;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offsetLine1<sp/>=<sp/>Vector2.Lerp(</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(),</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint1ToJoint2,</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(joint1ScaleX<sp/>/<sp/>2<sp/>+<sp/>line1ScaleX<sp/>/<sp/>2)<sp/>/<sp/>length1<sp/>);</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1Pos<sp/>=<sp/>joint1Pos<sp/>+<sp/>offsetLine1;</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angleLine1<sp/>=<sp/>Vector2.SignedAngle(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(1,<sp/>0),<sp/>joint1ToJoint2);</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;joint1ToJoint2:({joint1ToJoint2.x},{joint1ToJoint2.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;angleLine1:{angleLine1}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line1Rotation<sp/>=<sp/>Quaternion.Euler(0,<sp/>0,<sp/>angleLine1);</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;line1Rotation:{line1Rotation}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line2Pos<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2();</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line2Rotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Quaternion();</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistRotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Quaternion();</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>joint2ToFist<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(fistPos.x,<sp/>fistPos.y)</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(joint2Pos.x,<sp/>joint2Pos.y)<sp/>);</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offsetLine2<sp/>=<sp/>Vector2.Lerp(</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(),</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>joint2ToFist,</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(joint2ScaleX<sp/>/<sp/>2<sp/>+<sp/>line2ScaleX<sp/>/<sp/>2)<sp/>/<sp/>length2<sp/>);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line2Pos<sp/>=<sp/>joint2Pos<sp/>+<sp/>offsetLine2;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angleLine2<sp/>=<sp/>Vector2.SignedAngle(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2(1,<sp/>0),<sp/>joint2ToFist);</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;joint2ToFist:({joint2ToFist.x},{joint2ToFist.y})&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;angleLine2:{angleLine2}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line2Rotation<sp/>=<sp/>Quaternion.Euler(0,<sp/>0,<sp/>angleLine2);</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_hand_represent_1aefa9deb6fcbbb6861c5ccbff7fd2e1a6" kindref="member">currentLR</ref>)<sp/>Ludo.LogFile.LogTemp($</highlight><highlight class="stringliteral">&quot;line1Rotation:{line2Rotation}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fistRotation<sp/>=<sp/>line2Rotation;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="622"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/HandRepresent.cs"/>
  </compounddef>
</doxygen>

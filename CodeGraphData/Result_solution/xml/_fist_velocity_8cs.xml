<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_fist_velocity_8cs" kind="file">
    <compoundname>FistVelocity.cs</compoundname>
    <innerclass refid="struct_parameter_for_fist_velocity" prot="public">ParameterForFistVelocity</innerclass>
    <innerclass refid="class_speed_parameter" prot="public">SpeedParameter</innerclass>
    <innerclass refid="class_fist_velocity" prot="public">FistVelocity</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>System.Collections.Generic;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>UnityEngine;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5" refid="struct_parameter_for_fist_velocity" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref></highlight></codeline>
<codeline lineno="6"><highlight class="normal">{</highlight></codeline>
<codeline lineno="7" refid="struct_parameter_for_fist_velocity_1af49045df7b515febaa8238816e27e515" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="struct_parameter_for_fist_velocity_1af49045df7b515febaa8238816e27e515" kindref="member">anyKeyHold</ref>;</highlight></codeline>
<codeline lineno="8" refid="struct_parameter_for_fist_velocity_1a13dc8c126e6982af95a6855641c0178e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector2<sp/><ref refid="struct_parameter_for_fist_velocity_1a13dc8c126e6982af95a6855641c0178e" kindref="member">keyDir</ref>;</highlight></codeline>
<codeline lineno="9" refid="struct_parameter_for_fist_velocity_1a9435f1a1d241928fa79359b36474bb4e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector2<sp/><ref refid="struct_parameter_for_fist_velocity_1a9435f1a1d241928fa79359b36474bb4e" kindref="member">moveDir</ref>;</highlight></codeline>
<codeline lineno="10" refid="struct_parameter_for_fist_velocity_1ad53c0fb9d2a61b0b1d7b8056241b3999" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="_fist_state_8cs_1aec3d1d71d0930788a229b3e466c1da3a" kindref="member">FistState</ref><sp/><ref refid="struct_parameter_for_fist_velocity_1ad53c0fb9d2a61b0b1d7b8056241b3999" kindref="member">handState</ref>;</highlight></codeline>
<codeline lineno="11"><highlight class="normal">}</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13" refid="class_speed_parameter" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_speed_parameter" kindref="compound">SpeedParameter</ref></highlight></codeline>
<codeline lineno="14"><highlight class="normal">{</highlight></codeline>
<codeline lineno="15" refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>;</highlight></codeline>
<codeline lineno="16" refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref>;</highlight></codeline>
<codeline lineno="17" refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref>;</highlight></codeline>
<codeline lineno="18" refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" kindref="member">speedBeforeKeyRelease</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref>;</highlight></codeline>
<codeline lineno="21" refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref>;</highlight></codeline>
<codeline lineno="22" refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref>;</highlight></codeline>
<codeline lineno="23" refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" kindref="member">lastTwoHandGrabedSpeed</ref>;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26" refid="class_speed_parameter_1afd1982ba0085f071e798efe3c200e6a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1afd1982ba0085f071e798efe3c200e6a1" kindref="member">SpeedParameter</ref>()</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" kindref="member">speedBeforeKeyRelease</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" kindref="member">lastTwoHandGrabedSpeed</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_speed_parameter_1ad14ca8131d91712cebb5eeaca13f8451" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1ad14ca8131d91712cebb5eeaca13f8451" kindref="member">RefreshOneHand</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>newKeyHoldState,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speed)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref><sp/>=<sp/>newKeyHoldState;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a86a5c8d701abd050305f2418f36f9389" kindref="member">RefreshSpeedBeforeKeyRelease</ref>(speed);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0b5ec561e4a41b205dddf744608cf02d" kindref="member">RefreshTime</ref>();</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a57881eff030fe43174997654d9a9c5c9" kindref="member">RefreshLastTwoHandGrabedSpeed</ref>(speed);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1aa8d366b807509bc444dc2b64a7557a56" kindref="member">RefreshNoTwoHandTime</ref>();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref><sp/>=<sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref><sp/>=<sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="class_speed_parameter_1ab38a9c712a7713b04862dae6927178d8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1ab38a9c712a7713b04862dae6927178d8" kindref="member">RefreshTwoHand</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>newKeyHoldState,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speed)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref><sp/>=<sp/>newKeyHoldState;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a86a5c8d701abd050305f2418f36f9389" kindref="member">RefreshSpeedBeforeKeyRelease</ref>(speed);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0b5ec561e4a41b205dddf744608cf02d" kindref="member">RefreshTime</ref>();</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a57881eff030fe43174997654d9a9c5c9" kindref="member">RefreshLastTwoHandGrabedSpeed</ref>(speed);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1aa8d366b807509bc444dc2b64a7557a56" kindref="member">RefreshNoTwoHandTime</ref>();</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref><sp/>=<sp/><ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref><sp/>=<sp/><ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref>;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="class_speed_parameter_1a86a5c8d701abd050305f2418f36f9389" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a86a5c8d701abd050305f2418f36f9389" kindref="member">RefreshSpeedBeforeKeyRelease</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speed)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref><sp/>&amp;&amp;<sp/><ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref>)</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" kindref="member">speedBeforeKeyRelease</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>)</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" kindref="member">speedBeforeKeyRelease</ref><sp/>=<sp/>-1f;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="class_speed_parameter_1a0b5ec561e4a41b205dddf744608cf02d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a0b5ec561e4a41b205dddf744608cf02d" kindref="member">RefreshTime</ref>()</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref><sp/>=<sp/>-1f;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_speed_parameter_1ab9c77590f80089689d1a25da125b1b45" kindref="member">keyHoldStatePre</ref>)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref><sp/>+=<sp/>Time.fixedDeltaTime;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="class_speed_parameter_1a57881eff030fe43174997654d9a9c5c9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1a57881eff030fe43174997654d9a9c5c9" kindref="member">RefreshLastTwoHandGrabedSpeed</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speed)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>&amp;&amp;<sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref>)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" kindref="member">lastTwoHandGrabedSpeed</ref><sp/>=<sp/>speed;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref>)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" kindref="member">lastTwoHandGrabedSpeed</ref><sp/>=<sp/>-1f;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99" refid="class_speed_parameter_1aa8d366b807509bc444dc2b64a7557a56" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter_1aa8d366b807509bc444dc2b64a7557a56" kindref="member">RefreshNoTwoHandTime</ref>()</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref>)</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref><sp/>=<sp/>-1f;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref><sp/>+=<sp/>Time.fixedDeltaTime;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_speed_parameter_1a68d2e0d53e389498c29bac086cf703a8" kindref="member">nowIsTwoHand</ref><sp/>&amp;&amp;<sp/><ref refid="class_speed_parameter_1a141b62e0662fc7740a84acc03f4f7482" kindref="member">preIsTwoHand</ref>)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116" refid="class_fist_velocity" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_fist_velocity" kindref="compound">FistVelocity</ref><sp/>:<sp/><ref refid="class_velocity" kindref="compound">Velocity</ref></highlight></codeline>
<codeline lineno="117"><highlight class="normal">{</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------</highlight></codeline>
<codeline lineno="119"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>在单手情况下，FistVelocity类的行为是比较完备的。</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>有构造函数。</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>然后每次更新时调用<sp/>RefreshSpeedOneFist()</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>各方面都得到了妥善的处理</highlight></codeline>
<codeline lineno="123"><highlight class="comment"></highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>在双手情况下，FistVelocity自身本就无法处理。</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>必须借助<sp/>TwoFistVelocity<sp/>来完成。</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>因此，FistVelocity提供一个接口<sp/>AccelerateSpeedTwoFistGrabed（）</highlight></codeline>
<codeline lineno="127"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>来执行操作。</highlight></codeline>
<codeline lineno="128"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>但因为自己也无法控制很多情况，所以这个结构只是完成功能。</highlight></codeline>
<codeline lineno="129"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>需要<sp/>TwoFistVelocity<sp/>来考虑调用的环境情况。</highlight></codeline>
<codeline lineno="130"><highlight class="comment"><sp/><sp/><sp/><sp/>------------------------------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter" kindref="compound">SpeedParameter</ref><sp/><ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>;</highlight></codeline>
<codeline lineno="134" refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="135" refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>;</highlight></codeline>
<codeline lineno="136" refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>;</highlight></codeline>
<codeline lineno="137" refid="class_fist_velocity_1a1db24dbdc91255c1061b970222c62831" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a1db24dbdc91255c1061b970222c62831" kindref="member">speedMaxTwoFist</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="class_fist_velocity_1a1c01b744c6541fc57392dc76f1251d66" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a1c01b744c6541fc57392dc76f1251d66" kindref="member">FistVelocity</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1ab4270b69937407ac4146bda514635bd2" kindref="member">direction</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector2();</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this.length<sp/>=<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_speed_parameter" kindref="compound">SpeedParameter</ref>();</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref><sp/>=<sp/>0.5f<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref><sp/>=<sp/>4f<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1a1db24dbdc91255c1061b970222c62831" kindref="member">speedMaxTwoFist</ref><sp/>=<sp/>5.6f<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------</highlight></codeline>
<codeline lineno="154"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>主要部分，一只手移动用到</highlight></codeline>
<codeline lineno="155"><highlight class="comment"><sp/><sp/><sp/><sp/>------------------------------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#region<sp/>主要部分，一只手移动用到</highlight></codeline>
<codeline lineno="157" refid="class_fist_velocity_1a5b0420d24ea3a9cc8a193d3db4d599f7" refkind="member"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a5b0420d24ea3a9cc8a193d3db4d599f7" kindref="member">OffsetZeroOneHand</ref>()</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref>;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="161"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>在修改speed时，并不需要考虑对speedParameter.lastTwoHandGrabedSpeed进行修改。</highlight></codeline>
<codeline lineno="162"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>因为，lastTwoHandGrabedSpeed<sp/>是在每帧开始时，用上一帧的speed（即speedPre）设置的。</highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>所以，调用OffsetZero，只是在这一帧对速度赋值了两次，没有影响。</highlight></codeline>
<codeline lineno="164"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>下一帧的时候，才会根据这一帧最后的speed来搞lastTwoHandGrabedSpeed。</highlight></codeline>
<codeline lineno="165"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168" refid="class_fist_velocity_1abffb24c753636049fa2dc64420b12e04" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1abffb24c753636049fa2dc64420b12e04" kindref="member">IsSpeedPreNoBiggerThanMaxOneFist</ref>()</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref><sp/>&lt;=<sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173" refid="class_fist_velocity_1aa10ea4748598bbd6a8bfd4ca43e4f46f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1aa10ea4748598bbd6a8bfd4ca43e4f46f" kindref="member">RefreshSpeedOneFist</ref>(<ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref><sp/>parameter)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref><sp/>=<sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1a903d58cf6ee463279684d2c5d594e0e5" kindref="member">RefreshSpeedParameterOneHand</ref>(parameter);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1aecf251fa8f2d17ffc7c93d4b09ad9c90" kindref="member">RefreshSpeedOneFistDueToSpeedParameter</ref>(parameter);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1ab4270b69937407ac4146bda514635bd2" kindref="member">direction</ref><sp/>=<sp/>parameter.moveDir;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="class_fist_velocity_1a903d58cf6ee463279684d2c5d594e0e5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a903d58cf6ee463279684d2c5d594e0e5" kindref="member">RefreshSpeedParameterOneHand</ref>(<ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref><sp/>parameter)</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>speedParameter.RefreshOneHand(parameter.anyKeyHold,<sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="class_fist_velocity_1aecf251fa8f2d17ffc7c93d4b09ad9c90" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1aecf251fa8f2d17ffc7c93d4b09ad9c90" kindref="member">RefreshSpeedOneFistDueToSpeedParameter</ref>(<ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref><sp/>parameter)</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="191"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>相比之前的代码，需要补充，如果手的速度超过了单手速度怎么办。</highlight></codeline>
<codeline lineno="192"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>超速有2种情况：</highlight></codeline>
<codeline lineno="193"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>第一种是本来就要减速。</highlight></codeline>
<codeline lineno="194"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>第二种是不用减速。</highlight></codeline>
<codeline lineno="195"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1a9977c977e2dad3ec1246eaec176555be" kindref="member">Decelerate</ref>(<ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1a8f4083bc39515c294495f74adda1278a" kindref="member">speedBeforeKeyRelease</ref>,<sp/><ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1ab0ccfe0965dc76770ad592f7361563de" kindref="member">keyReleaseTime</ref>);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1ab23a110dfb531ff699b2a06686248aa3" kindref="member">keyHoldState</ref>)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>&gt;<sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1a9977c977e2dad3ec1246eaec176555be" kindref="member">Decelerate</ref>(<ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1a9b81c76140f0f699d61db247633f253a" kindref="member">lastTwoHandGrabedSpeed</ref>,<sp/><ref refid="class_fist_velocity_1aaa9864a3052713486ea6d6f4361ebbf7" kindref="member">speedParameter</ref>.<ref refid="class_speed_parameter_1a0ee85f8c9897590bba14b686da4745e4" kindref="member">noTwoHandTime</ref>);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>&lt;<sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parameter.<ref refid="struct_parameter_for_fist_velocity_1a13dc8c126e6982af95a6855641c0178e" kindref="member">keyDir</ref>.magnitude<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1aed77371ee0879ce0e51cc241f8527df3" kindref="member">Accelerate</ref>(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parameter.<ref refid="struct_parameter_for_fist_velocity_1a13dc8c126e6982af95a6855641c0178e" kindref="member">keyDir</ref>.magnitude<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219" refid="class_fist_velocity_1aed77371ee0879ce0e51cc241f8527df3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1aed77371ee0879ce0e51cc241f8527df3" kindref="member">Accelerate</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref>)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//公式:<sp/><sp/><sp/>speed<sp/>=<sp/>0.5*length<sp/>+<sp/>223*(t^2.5)*length</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>speed<sp/>=<sp/>speedStart<sp/>+<sp/>p<sp/>*<sp/>t^e<sp/>*<sp/>length</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//speed不超过max</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p<sp/>=<sp/>223f;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e<sp/>=<sp/>2.5f;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(speedPre<sp/>&lt;<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>tPre<sp/>=<sp/>Mathf.Pow((speedPre<sp/>-<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>)<sp/>/p/<ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>,<sp/>1f/e);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>tPre<sp/>+<sp/>Time.fixedDeltaTime;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref><sp/>+<sp/>p<sp/>*<sp/>Mathf.Pow(t,<sp/>e)<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>speed<sp/>=<sp/>Mathf.Clamp(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>,<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>,<sp/><ref refid="class_fist_velocity_1ab3a8a0b8c6fec176af6984116c13b2ab" kindref="member">speedMaxOneFist</ref>);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239" refid="class_fist_velocity_1a9977c977e2dad3ec1246eaec176555be" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a9977c977e2dad3ec1246eaec176555be" kindref="member">Decelerate</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>v0,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>time)</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="242"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>((v0/length)^2<sp/>-<sp/>780*t^2.35)<sp/>^<sp/>0.5<sp/>*<sp/>length</highlight></codeline>
<codeline lineno="243"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>((v0/length)^2<sp/>-<sp/>p*t^e)<sp/>^<sp/>0.5<sp/>*<sp/>length</highlight></codeline>
<codeline lineno="244"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vo是松开按键前的速度</highlight></codeline>
<codeline lineno="245"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t是松开按键的时间</highlight></codeline>
<codeline lineno="246"><highlight class="comment"></highlight></codeline>
<codeline lineno="247"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>&lt;<sp/>speedStart时，直接归0。</highlight></codeline>
<codeline lineno="248"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p<sp/>=<sp/>780f;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e<sp/>=<sp/>2.35f;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v0<sp/>=<sp/>v0<sp/>/<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>a<sp/>=<sp/>Mathf.Pow(v0,<sp/>2)<sp/>-<sp/>p<sp/>*<sp/>Mathf.Pow(time,<sp/>e);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a<sp/>&lt;=<sp/>0)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0f;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/>Mathf.Pow(a,<sp/>0.5f)<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(speed<sp/>&lt;<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>speed<sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endregion</highlight></codeline>
<codeline lineno="267"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------</highlight></codeline>
<codeline lineno="269"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>附加部分</highlight></codeline>
<codeline lineno="270"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1.两只手移动</highlight></codeline>
<codeline lineno="271"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2.Offset为0时，speed的设置</highlight></codeline>
<codeline lineno="272"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>------------------------------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#region<sp/>附加部分，两只手移动才用到</highlight></codeline>
<codeline lineno="274" refid="class_fist_velocity_1adf93689d465050c4f81d52274b110f8c" refkind="member"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1adf93689d465050c4f81d52274b110f8c" kindref="member">OffsetZeroTwoHand</ref>()</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref>;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="278"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>在修改speed时，并不需要考虑对speedParameter.lastTwoHandGrabedSpeed进行修改。</highlight></codeline>
<codeline lineno="279"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>因为，lastTwoHandGrabedSpeed<sp/>是在每帧开始时，用上一帧的speed（即speedPre）设置的。</highlight></codeline>
<codeline lineno="280"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>所以，调用OffsetZero，只是在这一帧对速度赋值了两次，没有影响。</highlight></codeline>
<codeline lineno="281"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>下一帧的时候，才会根据这一帧最后的speed来搞lastTwoHandGrabedSpeed。</highlight></codeline>
<codeline lineno="282"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285" refid="class_fist_velocity_1a3f2f7f9b3652c4da86225b723d39c603" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a3f2f7f9b3652c4da86225b723d39c603" kindref="member">AccelerateSpeedTwoFistGrabed</ref>(<ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref><sp/>parameter,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>speedBigger)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref><sp/>=<sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1ad3c67ff06fff6c7cf682f920059e9c16" kindref="member">RefreshSpeedParameterTwoHand</ref>(parameter);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/>speedBigger;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1ab4270b69937407ac4146bda514635bd2" kindref="member">direction</ref><sp/>=<sp/>parameter.moveDir;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_fist_velocity_1a9d2a984bac73b41473b1ee468debc486" kindref="member">AccelerateSpeedTwoFistGrabedDueToSpeedParameter</ref>();</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295" refid="class_fist_velocity_1ad3c67ff06fff6c7cf682f920059e9c16" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ad3c67ff06fff6c7cf682f920059e9c16" kindref="member">RefreshSpeedParameterTwoHand</ref>(<ref refid="struct_parameter_for_fist_velocity" kindref="compound">ParameterForFistVelocity</ref><sp/>parameter)</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>speedParameter.RefreshTwoHand(parameter.anyKeyHold,<sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300" refid="class_fist_velocity_1a9d2a984bac73b41473b1ee468debc486" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a9d2a984bac73b41473b1ee468debc486" kindref="member">AccelerateSpeedTwoFistGrabedDueToSpeedParameter</ref>()</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1a59d541e30415c8f080c77c5916c13b22" kindref="member">AccelerateTwoFistGrabed</ref>(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="304" refid="class_fist_velocity_1a59d541e30415c8f080c77c5916c13b22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a59d541e30415c8f080c77c5916c13b22" kindref="member">AccelerateTwoFistGrabed</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1ac7b4beb32e32f822d62ae626ededdd30" kindref="member">speedPre</ref>)</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//公式:<sp/><sp/><sp/>speed<sp/>=<sp/>0.5*length<sp/>+<sp/>223*1.4*(t^2.5)*length</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>speed<sp/>=<sp/>speedStart<sp/>+<sp/>p<sp/>*<sp/>t^e<sp/>*<sp/>length</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//speed不超过max</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p<sp/>=<sp/>223f<sp/>*<sp/>1.4f;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>e<sp/>=<sp/>2.5f;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(speedPre<sp/>&lt;<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>)</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>tPre<sp/>=<sp/>Mathf.Pow((speedPre<sp/>-<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>)<sp/>/p/<ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>,<sp/>1f/e);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>tPre<sp/>+<sp/>Time.fixedDeltaTime;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref><sp/>=<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref><sp/>+<sp/>p<sp/>*<sp/>Mathf.Pow(t,<sp/>e)<sp/>*<sp/><ref refid="class_fist_velocity_1a238a471deb9fda30447fe4da57ac8e03" kindref="member">length</ref>;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>speed<sp/>=<sp/>Mathf.Clamp(<ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>,<sp/><ref refid="class_fist_velocity_1a78129d345b1591dd6f32527863b91b14" kindref="member">speedStart</ref>,<sp/><ref refid="class_fist_velocity_1a1db24dbdc91255c1061b970222c62831" kindref="member">speedMaxTwoFist</ref>);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_velocity_1a96e13ca515461f9e3148622cfb2baa87" kindref="member">speed</ref>;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endregion</highlight></codeline>
<codeline lineno="324"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>------------------------------------------------------</highlight></codeline>
<codeline lineno="326"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>传递给外面的变量</highlight></codeline>
<codeline lineno="327"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>------------------------------------------------------<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328" refid="class_fist_velocity_1add156ac42e0e2c3bd421dfcaffcbaa45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1add156ac42e0e2c3bd421dfcaffcbaa45" kindref="member">GetSpeedMaxTwoFist</ref>()</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_fist_velocity_1a1db24dbdc91255c1061b970222c62831" kindref="member">speedMaxTwoFist</ref>;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="332"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="D:/Project/TwoHandsWar/Assets/Scripts/1_PlayerControlAddOn/FistVelocity.cs"/>
  </compounddef>
</doxygen>
